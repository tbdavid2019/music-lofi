# 手機版音軌列表功能測試指南

## 📱 功能概述

修復了手機版（螢幕寬度 ≤ 600px）無法看到音軌列表的問題，新增可展開/收合的音軌介面。

---

## ✅ 測試檢查清單

### 1. 桌面版 (> 600px)
- [ ] 音軌列表顯示在左側
- [ ] 點擊音軌卡片可播放/暫停
- [ ] 使用 ↑↓ 箭頭鍵可切換音軌
- [ ] 按數字鍵 1-9 可切換對應音軌
- [ ] 不顯示「顯示音軌」按鈕

### 2. 手機版 (≤ 600px)

#### 收合狀態
- [ ] 底部顯示一個按鈕 (高度約 50px)
- [ ] 按鈕文字：「顯示音軌 (X/9)」，X 為當前播放數量
- [ ] 按鈕位置：距離底部 20px
- [ ] 按鈕背景：毛玻璃效果 (rgba + backdrop-filter)
- [ ] 不會遮擋中央的播放按鈕

#### 展開狀態
- [ ] 點擊按鈕後列表向上展開
- [ ] 展開高度：最大 65vh
- [ ] 位置：距離底部 100px
- [ ] 按鈕文字變為：「隱藏音軌」+ 向下箭頭
- [ ] 音軌列表可滾動查看全部 9 個音軌
- [ ] 音軌卡片尺寸調整為適合手機（60x60px 圖片）

#### 互動測試
- [ ] 點擊音軌卡片可播放/暫停
- [ ] 播放音軌後，按鈕顯示正確數量（如：3/9）
- [ ] 點擊「隱藏音軌」按鈕可收起列表
- [ ] 展開/收合有平滑動畫 (0.3s transition)
- [ ] 音軌列表內容可滾動

#### 視覺檢查
- [ ] 音軌卡片文字清晰可讀
- [ ] 中文標題正確顯示（海灘聲、風聲等）
- [ ] 引言文字縮減為 2 行（text ellipsis）
- [ ] 音量滑桿（播放時）正常顯示

### 3. 響應式切換測試
- [ ] 從桌面縮小到手機寬度，介面正常切換
- [ ] 從手機放大到桌面寬度，介面正常切換
- [ ] 不同方向（直向/橫向）都正常顯示

---

## 🔧 測試方法

### Chrome DevTools 模擬手機
```
1. 按 F12 開啟 DevTools
2. 按 Ctrl+Shift+M (或 Cmd+Shift+M) 切換裝置模擬
3. 選擇裝置：iPhone SE, iPhone 12 Pro, iPad Mini 等
4. 測試不同螢幕尺寸
```

### 實際手機測試
```
1. 確保開發伺服器可從手機訪問：
   pnpm dev --host

2. 查看終端顯示的 Network URL，例如：
   http://192.168.1.100:1420

3. 在手機瀏覽器開啟該 URL

4. 進行以上測試
```

---

## 🎯 測試場景

### 場景 1：首次開啟
1. 在手機開啟應用
2. 檢查底部是否顯示「顯示音軌 (0/9)」按鈕
3. 點擊按鈕，列表應展開

### 場景 2：播放音軌
1. 展開音軌列表
2. 點擊「海灘聲」播放
3. 檢查按鈕文字變為「顯示音軌 (1/9)」
4. 再點擊「風聲」
5. 檢查按鈕文字變為「顯示音軌 (2/9)」

### 場景 3：收合後再展開
1. 點擊「隱藏音軌」收起列表
2. 確認只顯示按鈕，高度約 50px
3. 再次點擊「顯示音軌」
4. 列表應再次展開，保持之前的播放狀態

### 場景 4：多音軌播放
1. 播放 3 個以上音軌
2. 收起列表
3. 檢查按鈕顯示正確數量（如：4/9）
4. 展開列表，確認播放中的音軌有特殊樣式

---

## 🐛 已知問題排查

### 問題 1：按鈕看不到
**可能原因**：z-index 層級問題
**檢查**：確認 .track-list z-index 設為 20

### 問題 2：遮擋播放按鈕
**可能原因**：bottom 值設定錯誤
**檢查**：收合時 bottom: 20px，展開時 bottom: 100px

### 問題 3：音軌數量不更新
**可能原因**：reactive 狀態問題
**檢查**：`{tracks.filter(t => t.isPlaying).length}` 是否正確計算

### 問題 4：展開後無法滾動
**可能原因**：overflow 設定錯誤
**檢查**：.wrapper 應設 overflow-y: auto; max-height: 55vh

---

## 📊 預期結果

### 桌面版
- 左側固定顯示音軌列表
- 寬度 28vw，高度 65vh
- 無展開/收合按鈕

### 手機版 - 收合
```
┌─────────────────────────┐
│                         │
│    (主介面區域)          │
│                         │
│         ⏸️              │  ← 播放按鈕
│                         │
├─────────────────────────┤
│ ▲ 顯示音軌 (2/9)        │  ← 50px 按鈕 (bottom: 20px)
└─────────────────────────┘
```

### 手機版 - 展開
```
┌─────────────────────────┐
│                         │
│    (主介面區域)          │
│                         │
├─────────────────────────┤
│ ▼ 隱藏音軌              │  ← 標題列
├─────────────────────────┤
│ 🎵 海灘聲 [播放中]       │
│ 🌙 夜晚氛圍              │  ← 音軌列表
│ 🎹 辦公室                │     (max-height: 65vh)
│ ... (可滾動)            │
├─────────────────────────┤
│        ▼                │  ← 導航按鈕
└─────────────────────────┘
         (bottom: 100px)
```

---

## ✅ 完成標準

- [x] 手機版可看到音軌列表
- [x] 展開/收合功能正常
- [x] 不遮擋播放按鈕
- [x] 播放數量正確顯示
- [x] 觸控互動流暢
- [x] 視覺效果美觀
- [x] 桌面版功能不受影響

---

## 📝 測試報告模板

```
測試日期：2025-10-13
測試者：________
測試裝置：________

桌面版測試：
- 音軌列表顯示：✅ / ❌
- 點擊播放功能：✅ / ❌
- 鍵盤快捷鍵：✅ / ❌

手機版測試：
- 按鈕顯示：✅ / ❌
- 展開功能：✅ / ❌
- 收合功能：✅ / ❌
- 播放計數：✅ / ❌
- 滾動功能：✅ / ❌
- 動畫效果：✅ / ❌

發現問題：
1. ________________
2. ________________

建議改進：
1. ________________
2. ________________
```
